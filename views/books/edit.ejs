<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <!-- BOXICONS -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- JAVASCRIPT -->
    <script defer src="/js/app.js"></script>

    <title>Editing <%=book.title %></title>
</head>
<body>
    <%- include('../partials/_topnavbar.ejs') %>

    <div class="containter">

        <%- include('../partials/_asidenavbar.ejs') %>

        <!-- ------------------- EDIT VIEW --------------------- -->
        <main>
            <div class="books">

                <h2>Editing: <%=book.title %></h2>

                <form action="/users/<%=user._id%>/books/<%=book._id %>?_method=PUT" method="POST">

                    <div class="new-book">

                        <div class="add">

                            <div class="col1">
                                <div class="item">
                                    <label for="title" class="text-muted">Title:</label>
                                    <input type="text" name="title" id="title" value="<%=book.title %>"/>
                                </div>

                                <div class="item">
                                    <label for="series" class="text-muted">Series Name:</label>
                                    <input type="text" name="series" id="series" value="<%=book.series %>" />
                                </div>

                                <div class="item">
                                    <label for="started" class="text-muted">Date Started:</label>
                                    <input type="date" name="started" id="started" value="<%= book.started ? book.started.toISOString().split('T')[0] : '' %>"/>
                                </div>

                                <div class="item">
                                    <label for="rating" class="text-muted">Rating:</label>
                                    <select id="rating" name="rating">
                                        <option value="0" <%=book.rating === '0' ? 'selected' : '' %> ></option>
                                        <option value="1" <%=book.rating === '1' ? 'selected' : '' %> >‚≠ê</option>
                                        <option value="2" <%=book.rating === '2' ? 'selected' : '' %> >‚≠ê‚≠ê</option>
                                        <option value="3" <%=book.rating === '3' ? 'selected' : '' %> >‚≠ê‚≠ê‚≠ê</option>
                                        <option value="4" <%=book.rating === '4' ? 'selected' : '' %> >‚≠ê‚≠ê‚≠ê‚≠ê</option>
                                        <option value="5" <%=book.rating === '5' ? 'selected' : '' %> >‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
                                    </select>
                                </div>

                            </div>

                            <div class="col2">
                                <div class="item">
                                    <label for="author" class="text-muted">Author:</label>
                                    <input type="text" name="author" id="author" value="<%=book.author %>"/>
                                </div>

                                <div class="item">
                                    <label for="numSeries" class="text-muted">Number in Series:</label>
                                    <input type="number" name="numSeries" id="numSeries" value="<%=book.numSeries %>" />                
                                </div>

                                <div class="item">
                                    <label for="finished" class="text-muted">Date Finished:</label>
                                    <input type="date" name="finished" id="finished" value="<%=book.finished ? book.finished.toISOString().split('T')[0] : '' %>"/>
                                </div>

                                <div class="item">
                                    <label for="spiceRating" class="text-muted"> Spice Rating:</label>
                                    <select id="spiceRating" name="spiceRating">
                                        <option value="0" <%=book.spiceRating === '0' ? 'selected' : '' %> ></option>
                                        <option value="1" <%=book.spiceRating === '1' ? 'selected' : '' %> >üå∂ Glimpses & Kisses</option>
                                        <option value="2" <%=book.spiceRating === '2' ? 'selected' : '' %> >üå∂üå∂ Fade to Black</option>
                                        <option value="3" <%=book.spiceRating === '3' ? 'selected' : '' %> >üå∂üå∂üå∂ Open Door</option>
                                        <option value="4" <%=book.spiceRating === '4' ? 'selected' : '' %> >üå∂üå∂üå∂üå∂ Explicit Open Door</option>
                                        <option value="5" <%=book.spiceRating === '5' ? 'selected' : '' %> >üå∂üå∂üå∂üå∂üå∂ Explicit & Plentiful</option>
                                    </select>
                                </div>

                            </div>

                        </div>

                    </div>
                    
                    <div class="new-book-section">

                        <div calss="col1">

                            <div class="item">
                                <label for="status" class="text-muted">Status:</label>
                                <select id="status" name="status">
                                    <option value="tbr" <%=book.status === 'tbr' ? 'selected' : '' %> >TBR</option>
                                    <option value="reading" <%=book.status === 'reading' ? 'selected' : '' %> >READING</option>
                                    <option value="read" <%=book.status === 'read' ? 'selected' : '' %> >READ</option>
                                    <option value="paused" <%=book.status === 'paused' ? 'selected' : '' %> >PAUSED</option>
                                    <option value="dnf" <%=book.status === 'dnf' ? 'selected' : '' %> >DNF</option>
                                </select>
                            </div>

                        </div>

                        <div calss="col2">
                            <div class="item"> 
                                <label for="format" class="text-muted">Format:</label>
                                <select id="format" name="format">
                                    <option value="Audiobook" <%=book.format === 'Audiobook' ? 'selected' : '' %> >Audiobook</option>
                                    <option value="Ebook" <%=book.format === 'Ebook' ? 'selected' : '' %> >Ebook</option>
                                    <option value="Hardcover" <%=book.format === 'Hardcover' ? 'selected' : '' %> >Hardcover</option>
                                    <option value="Paperback" <%=book.format === 'Paperback' ? 'selected' : '' %> >Paperback</option>
                                </select>
                            </div>
                        </div>

                        <div calss="col3">

                            <div class="item">
                                <label for="genre" class="text-muted">Genre:</label>
                                <select id="genre" name="genre">
                                    <option value="Biography" <%=book.genre === 'Biography' ? 'selected' : '' %> >Biography</option>
                                    <option value="Classic" <%=book.genre === 'Classic' ? 'selected' : '' %> >Classic</option>
                                    <option value="Contemporary Fiction" <%=book.genre === 'Contemporary Fiction' ? 'selected' : '' %> >Contemporary Fiction</option>
                                    <option value="Dark Academia" <%=book.genre === 'Dark Academia' ? 'selected' : '' %> >Dark Academia</option>
                                    <option value="Fantasy" <%=book.genre === 'Fantasy' ? 'selected' : '' %> >Fantasy</option>
                                    <option value="Historical Fiction" <%=book.genre === 'Historical Fiction' ? 'selected' : '' %> >Historical Fiction</option>
                                    <option value="History" <%=book.genre === 'History' ? 'selected' : '' %> >History</option>
                                    <option value="Horror" <%=book.genre === 'Horror' ? 'selected' : '' %> >Horror</option>
                                    <option value="Literary Fiction" <%=book.genre === 'Literary Fiction' ? 'selected' : '' %> >Literary Fiction</option>
                                    <option value="Memoir" <%=book.genre === 'Memoir' ? 'selected' : '' %> >Memoir</option>
                                    <option value="Mystery" <%=book.genre === 'Mystery' ? 'selected' : '' %> >Mystery</option>
                                    <option value="Nonfiction" <%=book.genre === 'Nonfiction' ? 'selected' : '' %> >Nonfiction</option>
                                    <option value="Play" <%=book.genre === 'Play' ? 'selected' : '' %> >Play</option>
                                    <option value="Poetry" <%=book.genre === 'Poetry' ? 'selected' : '' %> >Poetry</option>
                                    <option value="Retelling" <%=book.genre === 'Retelling' ? 'selected' : '' %> >Retelling</option>
                                    <option value="Romance" <%=book.genre === 'Romance' ? 'selected' : '' %> >Romance</option>
                                    <option value="Romantasy" <%=book.genre === 'Romantasy' ? 'selected' : '' %> >Romantasy</option>
                                    <option value="Science Fiction" <%=book.genre === 'Science Fiction' ? 'selected' : '' %> >Science Fiction</option>
                                    <option value="Thriller" <%=book.genre === 'Thriller' ? 'selected' : '' %> >Thriller</option>
                                    <option value="Young Adult" <%=book.genre === 'Young Adult' ? 'selected' : '' %> >Young Adult</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="new-book">
                        <label for="photo" class="text-muted">Book Cover Photo: <p>(insert utilizing- copy image link)</p></label>
                        <input type="url" name="photo" id="photo" placeholder="https://example.com" value="<%=book.photo %>"></input>
                    </div>

                    <div class="new-book">
                        <label for="review" class="text-muted">Book Review:</label>
                        <textarea name="review" id="review"><%=book.review %></textarea>
                    </div>

                    <div class="add-new-book">
                        <i class='bx bxs-edit'></i>
                        <button type="submit">Edit Book</button>
                    </div>


                </form>

            </div>
        </main>
        

    </div>

</body>
</html>